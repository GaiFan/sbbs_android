package com.yuchao.ui;

import android.content.Intent;
import android.os.Bundle;
import android.text.Html;
import android.text.Spanned;
import android.text.method.LinkMovementMethod;
import android.view.View;
import android.widget.Button;
import android.widget.TextView;
import android.widget.Toast;

import com.gfan.sbbs.MyApplication;
import com.umeng.analytics.MobclickAgent;

public class About extends com.gfan.ui.base.BaseActivity {
	private TextView about_title,textview_about,linkTitle,linkView;
	private Button btn_quit,btn_advice;

	@Override
	protected void _onCreate(Bundle savedInstanceState) {
		super._onCreate(savedInstanceState);
		getSupportActionBar().setDisplayHomeAsUpEnabled(true);
		setContentView(R.layout.about);
		setTitle("虎踞龙蟠BBS Android客户端");
		initView();
		init();
	}

	@Override
	protected void onResume() {
		super.onResume();
		MobclickAgent.onResume(this);
	}

	@Override
	protected void onPause() {
		super.onPause();
		MobclickAgent.onPause(this);
	}

	private void initView() {
		textview_about = (TextView) findViewById(R.id.textview_about);
		about_title = (TextView)this.findViewById(R.id.about_title);
		linkTitle = (TextView)this.findViewById(R.id.about_link_title);
		linkView = (TextView)this.findViewById(R.id.about_link);
		btn_quit = (Button)this.findViewById(R.id.about_quit);
		btn_advice = (Button)this.findViewById(R.id.about_advice);
	}
	private void init(){
		String versionName = getResources().getString(R.string.version_name);
		about_title.setText("虎踞龙蟠Android客户端 v"+versionName);
		String about ="<p><b>操作提示</b></p>" +
				"<p>1、十大、站内信等一旦加载不会再自动刷新，请使用下拉刷新</p>" +
				"<p>2、在设置中可设置自动登录、版面是否同主题阅读、黑名单等信息。</p>" +
				"<p>3、同主题阅读时长按条目可弹出菜单，点击进入单帖模式，可查看图片。</p>" +
				"<p>4、好友界面，点击用户条目有菜单提示。</p>" +
				"<p>5、ICS(Android 4.0)用户请多按菜单键。</p>"+	
				"<p>    如果您在使用过程中有任何意见或者建议，欢迎您联系我。:)</p>"+
				"<p>    <a href= "+"\"http://bbs.seu.edu.cn/bbsqry.php?userid=gfan\">"+"gfan /"+"</a>"+"<a href= "+
				"\"http://bbs.seu.edu.cn/bbsqry.php?userid=Nine\""+">"+" Nine"+"</a>"+"@SBBS"+
				"    <a href= "+"\"http://www.weibo.com/gfanseu\""+">"+"gfanseu@新浪微博</a><p>";
	
		Spanned content = Html.fromHtml(about);
		textview_about.setText(content);
		textview_about.setMovementMethod(LinkMovementMethod.getInstance());
		linkTitle.setText("相关链接");
		String link = "东南大学虎踞龙蟠BBS: http://bbs.seu.edu.cn\n\n" +
				"虎踞龙蟠手机客户端: http://bbs.seu.edu.cn/client\n\n" +
				"项目主页： http://code.google.com/p/sbbs-android-app/";
		linkView.setText(link);
		btn_quit.setOnClickListener(new View.OnClickListener() {
			
			@Override
			public void onClick(View v) {
				finish();
				return;
			}
		});
		btn_advice.setOnClickListener(new View.OnClickListener() {
			
			@Override
			public void onClick(View v) {
				Intent intent = new Intent(About.this,Advice.class);
				if(!isLogined()){
					Toast.makeText(MyApplication.mContext, "请登录后使用", Toast.LENGTH_SHORT).show();
					return;
				}
				startActivity(intent);
				finish();
			}
		});
	}

	@Override
	protected void processUnLogin() {
		// TODO Auto-generated method stub
		
	}

	@Override
	protected void setup() {
		// TODO Auto-generated method stub
		
	}

}
