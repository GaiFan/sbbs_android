package com.yuchao.domain;

import java.io.Serializable;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Locale;

import org.json.JSONException;
import org.json.JSONObject;

import android.util.Log;

public class User implements Serializable{
	private static final long serialVersionUID = 1L;
	
	private String id;//用户名
	private String pwd;//密码
	private String nickName;//昵称
	private String status;//状态，如阅读新文章、隐身中等等
	private String sourceIP;//来源IP
	private String astrology;//星座
	private String loginTime;//登录次数
	private String postTime;//发表文章数
	private String lifeValue;//生命力
	private String performValue;//表现值
	private String experience;//经验值
	private String Identity;//身份，Google Translate是这么翻译的-，-
	private String medalNum;//勋章
	private String gender;
	private String lastLoginTime;
	
	public User() {
		super();
	}

	public User(String id, String pwd) {
		super();
		this.id = id;
		this.pwd = pwd;
	}

	public String getId() {
		return id;
	}

	public User setId(String id) {
		this.id = id;
		return this;
	}

	public String getPwd() {
		return pwd;
	}

	public User setPwd(String pwd) {
		this.pwd = pwd;
		return this;
	}

	public String getNickName() {
		return nickName;
	}

	public User setNickName(String nickName) {
		this.nickName = nickName;
		return this;
	}

	public String getStatus() {
		return status;
	}

	public User setStatus(String status) {
		this.status = status;
		return this;
	}

	public String getSourceIP() {
		return sourceIP;
	}

	public User setSourceIP(String sourceIP) {
		this.sourceIP = sourceIP;
		return this;
	}

	public String getAstrology() {
		return astrology;
	}

	public User setAstrology(String astrology) {
		this.astrology = astrology;
		return this;
	}

	public String getLoginTime() {
		return loginTime;
	}

	public User setLoginTime(String loginTime) {
		this.loginTime = loginTime;
		return this;
	}

	public String getPostTime() {
		return postTime;
	}

	public User setPostTime(String postTime) {
		this.postTime = postTime;
		return this;
	}

	public String getLifeValue() {
		return lifeValue;
	}

	public User setLifeValue(String lifeValue) {
		this.lifeValue = lifeValue;
		return this;
	}

	public String getPerformValue() {
		return performValue;
	}

	public User setPerformValue(String performValue) {
		this.performValue = performValue;
		return this;
	}

	public String getExperience() {
		return experience;
	}

	public User setExperience(String experience) {
		this.experience = experience;
		return this;
	}

	public String getIdentity() {
		return Identity;
	}

	public void setIdentity(String identity) {
		Identity = identity;
	}

	public String getMedalNum() {
		return medalNum;
	}

	public void setMedalNum(String medalNum) {
		this.medalNum = medalNum;
	}

	public void setGender(String gender) {
		this.gender = gender;
	}

	public String getGender() {
		return gender;
	}

	public void setLastLoginTime(String lastLoginTime) {
		this.lastLoginTime = lastLoginTime;
	}

	public String getLastLoginTime() {
		return lastLoginTime;
	}
	public static User parseJson(JSONObject userJson) throws JSONException{
		String id = userJson.getString("id");
		String nickName = userJson.getString("name");
		String level = userJson.getString("level");
		String posts = userJson.getString("posts");
		String perform = userJson.getString("perform");
		String experience = userJson.getString("experience");
		String logins = userJson.getString("logins");
		String life = userJson.getString("life");
		long milliseconds = userJson.getLong("lastlogin");
		Date date = new Date(milliseconds * 1000);
		SimpleDateFormat format = new SimpleDateFormat(
				"MMM dd HH:mm:ss yyyy", Locale.ENGLISH);
		String time = format.format(date);
		String gender, astrology;
		if (userJson.has("gender")) {
			gender = userJson.getString("gender");
			Log.i("getUserProfileAPI", "gender is " + gender);
			astrology = userJson.getString("astro");
		} else {
			gender = "other";
			astrology = "other";
		}
		User user = new User();
		user.setNickName(nickName);
		user.setAstrology(astrology);
		user.setExperience(experience);
		user.setIdentity(level);
		user.setLifeValue(life);
		user.setPerformValue(perform);
		user.setPostTime(posts);
		user.setGender(gender);
		user.setLoginTime(logins);
		user.setId(id);
		user.setLastLoginTime(time);
		return user;
	}
}
